<h2>Registro</h2>
<form id="registerForm">
  <input type="text" id="username" placeholder="Usuario" required />
  <input type="password" id="password" placeholder="Contraseña" required />
  <select id="role" required>
    <option value="">Selecciona un rol</option>
    <option value="admin">Administrador</option>
    <option value="visitor">Visitante</option>
  </select>
  <button type="submit">Registrarse</button>
</form>
<p>Ya tienes cuenta? <a href="login.html" onclick="event.preventDefault(); navigate('/login.html')">Inicia sesión</a></p>

<script type="module">
  import { register } from '../Auth.js';
  import { navigate } from '../Router.js';

  const form = document.getElementById('registerForm');
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const username = form.username.value;
    const password = form.password.value;
    const role = form.role.value;

    await register({ username, password, role });
    alert("Registro exitoso, ahora inicia sesión");
    navigate('/login');
  });
</script>